:root{
  --bg: #0b1020;
  --panel: #121833;
  --panel-2: #0f1530;
  --text: #e8ecf6;
  --muted: #98a2b3;
  --brand: #56b4ff;
  --brand-2:#2b8fff;
  --accent:#8b5cf6;
  --success:#22c55e;
  --danger:#ef4444;
  --warning:#f59e0b;
  --glass: rgba(255,255,255,0.06);
  --border: rgba(255,255,255,0.08);
  --shadow: 0 10px 30px rgba(0,0,0,0.3);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Plus Jakarta Sans", system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color:var(--text);
  background: radial-gradient(1200px 800px at 70% -10%, #1c2a55 0%, transparent 60%),
              radial-gradient(800px 600px at -10% 10%, #1a1e38 0%, transparent 60%),
              var(--bg);
  overflow:auto;
}

.app{max-width:1200px;margin:0 auto;padding:20px 16px;min-height:100vh}

.app__header{
  display:flex;align-items:center;justify-content:center;margin-bottom:16px;min-height:64px;position:relative
}
.header__actions{position:absolute;right:0;top:50%;transform:translateY(-50%)}
.brand{display:flex;align-items:center;gap:12px}
.brand__text h1{margin:0;font-size:22px;letter-spacing:.2px}
.brand__text p{margin:0;color:var(--muted);font-size:12px}

.btn{
  background:linear-gradient(180deg,#2a7bff,#2b8fff);
  color:#fff;border:0;border-radius:14px;padding:12px 16px;font-weight:700;
  letter-spacing:.1px;
  box-shadow:0 8px 18px rgba(43,143,255,.35);cursor:pointer;display:inline-flex;gap:10px;align-items:center
}
.btn:disabled{opacity:.5;cursor:not-allowed}
.btn--ghost{background:transparent;color:var(--text);border:1px solid var(--border);box-shadow:none;border-radius:12px;padding:10px 12px}
.btn__icon{filter:drop-shadow(0 4px 8px rgba(255,255,255,.15))}

.grid{
  display:grid;grid-template-columns: 1.15fr .85fr;gap:16px;
  grid-template-rows: 1fr 1fr;
}
@media (max-width: 980px){.grid{grid-template-columns:1fr}}

/* Make tank span both rows so Activity sits under Controls */
.tank{grid-row: span 2}
@media (max-width: 980px){.tank{grid-row:auto}}

/* Ensure panels fill allocated grid height */
.tank,.controls,.activity{height:100%}
.tank{display:flex;flex-direction:column}
.tank__visual{flex:1;overflow:hidden}
.tank__footer{padding:10px 6px 2px}

.panel{
  background:linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:var(--shadow)
}
.panel__header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.panel__header h2{margin:0;font-size:16px}

.live-chip{font-size:12px;padding:4px 10px;border-radius:999px;border:1px solid var(--border);background:var(--glass)}

.tank__visual{position:relative;padding:8px 8px 0;display:flex;align-items:center;justify-content:center}
.tank-svg{height:clamp(260px, 45vh, 420px);width:auto;max-width:100%}
.tank-outline{fill:rgba(255,255,255,.03);stroke:rgba(255,255,255,.18);stroke-width:2}
.water-group{transform:translateY(0);transition:transform .6s cubic-bezier(.22,.61,.36,1)}
.wave path{stroke:#8fd1ff;stroke-width:2;fill:none;opacity:.45}
.wave{transform:translate(0,0)}
.wave--delay{opacity:.7}

.tank__overlay{
  position:absolute;inset:0;display:flex;gap:10px;align-items:flex-start;justify-content:flex-end;padding:10px 12px;flex-wrap:wrap
}
.stat{background:var(--glass);border:1px solid var(--border);backdrop-filter: blur(6px);-webkit-backdrop-filter: blur(6px);
  border-radius:12px;padding:8px 10px;min-width:88px;text-align:center}
.stat__label{font-size:clamp(10px, 1.4vh, 11px);color:var(--muted)}
.stat__value{font-size:clamp(14px, 2.4vh, 18px);font-weight:700}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;background:#2a314f}

.tank__footer{padding:10px 6px 2px}
.progress{height:10px;background:rgba(255,255,255,.06);border:1px solid var(--border);border-radius:999px;overflow:hidden}
.progress__bar{height:100%;width:0;background:linear-gradient(90deg,var(--brand),#4fd1c5,#a78bfa);transition:width .5s ease}

.controls .control{display:flex;align-items:center;gap:12px;margin:10px 0}
.control__text{display:flex;flex-direction:column}
.control__title{font-weight:600}
.control__desc{font-size:12px;color:var(--muted)}

.switch{position:relative;display:inline-block;width:54px;height:30px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;inset:0;background:#2a314f;transition:.2s;border-radius:999px;border:1px solid var(--border)}
.slider:before{position:absolute;content:"";height:22px;width:22px;left:4px;top:3px;background:white;border-radius:50%;transition:.25s}
.switch input:checked + .slider{background:linear-gradient(180deg,#3b82f6,#2b8fff)}
.switch input:checked + .slider:before{transform:translateX(24px)}

.divider{height:1px;background:linear-gradient(90deg,transparent,var(--border),transparent);margin:12px 0}

.thresholds{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:600px){.thresholds{grid-template-columns:1fr}}
.threshold label{display:block;margin-bottom:6px;color:var(--muted);font-size:12px}

.range{display:flex;align-items:center;gap:10px}
input[type=range]{flex:1;appearance:none;height:6px;border-radius:999px;background:#2a314f;outline:none}
input[type=range]::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:linear-gradient(180deg,#fff,#dbeafe);border:1px solid #93c5fd;box-shadow:0 2px 8px rgba(59,130,246,.5)}
output{min-width:64px;text-align:right;color:var(--text);font-weight:600}

.tips{margin-top:8px;color:var(--muted);font-size:12px}

.activity {
  display: flex;
  flex-direction: column;
  height: 300px; /* Set a fixed height for the activity section */
  overflow: hidden; /* Prevent content overflow outside the section */
}

.activity .log{list-style:none;margin:0;padding:0;max-height:100%;overflow:auto}
.activity .log li{display:flex;align-items:center;gap:10px;padding:8px 10px;border-bottom:1px dashed var(--border)}
.log__time{color:var(--muted);font-size:11px}
.log__badge{font-size:10px;padding:2px 6px;border-radius:999px;background:#26304f;border:1px solid var(--border)}

.log {
  max-height: 100%; /* Ensure it fills the allocated height */
  overflow-y: auto; /* Enable vertical scrolling */
  padding-right: 10px; /* Add padding to avoid overlap with scrollbar */
  scrollbar-width: thin; /* For modern browsers */
}

.log::-webkit-scrollbar {
  width: 8px; /* Set scrollbar width for WebKit browsers */
}

.log::-webkit-scrollbar-thumb {
  background-color: #ccc; /* Scrollbar thumb color */
  border-radius: 4px; /* Rounded corners for the scrollbar thumb */
}

.log::-webkit-scrollbar-thumb:hover {
  background-color: #aaa; /* Darker color on hover */
}

.app__footer{display:flex;align-items:center;justify-content:space-between;margin-top:16px;color:var(--muted);font-size:12px;min-height:48px}
.app__footer .dot{margin:0 8px}

/* Themes */
.is-light{
  --bg:#f4f7fb;--panel:#ffffff;--panel-2:#f6f7fb;--text:#0b1020;--muted:#53607a;--border:rgba(9,12,22,0.08);--glass:rgba(9,12,22,0.06)
}

/* Animations */
@keyframes floatWave{0%{transform:translateX(0)}100%{transform:translateX(40px)}}
#wave1{animation: floatWave 4s linear infinite alternate}
#wave2{animation: floatWave 5s linear infinite alternate-reverse}

.motor-on{background:linear-gradient(180deg,#10b981,#16a34a) !important}
.badge--on{background:#0b3b2c;color:#a7f3d0}
.badge--off{background:#3b1c1c;color:#fecaca}


